window.Api={init:()=>{var e={loadRecipients:()=>{for(var e=[],t=0;t<5;t++)e[t]={id:t,name:"Worker"+t,email:"example"+t+"@example.com"};return e}};return e.sendMessage(recipient,subject,content),e}},window.App={init:()=>{var e=Api.init(),t=Form.init(),n=List.init(e);Message.init(e,t,n)}},document.addEventListener("DOMContentLoaded",App.init),window.Form={init:()=>{var e={},t=document.querySelector("#message form"),n=t.querySelector("#send"),i=t.querySelector("#subject"),r=t.querySelector("#content"),s=t.querySelector("#result");return e.formValidation=(()=>e.getSubjectValue().length?!!e.getContentValue().length||r:i),e.getSubjectValue=(()=>i.value),e.getContentValue=(()=>r.value),e.getButtonElement=(()=>n),e.getResultElement=(()=>s),e}},window.List={init:e=>{var t={},n=document.querySelector("#recipients"),i=n.querySelector("#add"),r=n.querySelector(".recipients-list");return t.handleButton=(()=>{i.addEventListener("click",function(){alert("Here should be possibility to add new recipient.")})}),t.loadRecipients=(()=>e.loadRecipients()),t.recipentHandler=(e=>{e.preventDefault(),event.currentTarget.classList.toggle("active")}),t.drawList=(()=>{var e=t.loadRecipients();r.innerHTML="",e.forEach(e=>{var n=document.createElement("li");n.dataset.id=e.id,n.innerHTML='<i class="first-icon fas fa-user"></i> <span class="name">'+e.name+'</span> <span class="email">'+e.email+'</span> <i class="checked-icon fas fa-check-square"></i> <i class="checked-icon far fa-square"></i>',n.addEventListener("click",t.recipentHandler),r.appendChild(n)})}),t.getCheckedRecipients=(()=>{var e=r.querySelectorAll("li"),t=[];return e.forEach(e=>{if(-1!==e.className.indexOf("active")){var n=e.dataset.id,i=e.querySelector(".email").innerText,r=e.querySelector(".name").innerText;t.push({id:n,email:i,name:r})}}),t}),t.addRecipient=((e,t)=>{}),t.handleButton(),t.drawList(),t}},window.Message={init:(e,t)=>{var n={handleButton:()=>{e.getButtonElement().addEventListener("click",i=>{i.preventDefault();var r=e.formValidation();if(!0===r){n.showSuccess("Message is correct.");var s=t.getCheckedRecipients();if(0===s.length)n.showError("You need to choose some recipients.");else{let t=e.getSubjectValue(),i=e.getContentValue();n.sendMessages(s,t,i)}}else n.showError('Field "'+r.id+'" is incorrect.'),r.focus()})},showError:t=>{var n=e.getResultElement();n.classList.remove("success"),n.classList.add("error"),n.innerHTML=t},showSuccess:t=>{var n=e.getResultElement();n.classList.remove("error"),n.classList.add("success"),n.innerHTML=t},sendMessages:e=>{}};return n.handleButton(),n}};